name: Metrics

on:
  schedule: [{cron: "0 0 * * 1"}]   # –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é
  workflow_dispatch:               # —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
  push: {branches: ["main"]}       # –∏–ª–∏ –ø–æ –ø—É—à—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

jobs:
  github-metrics:
    runs-on: ubuntu-latest

    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          user: evalldev                        # –∑–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π –Ω–∏–∫
          template: classic
          base: header, activity, community, repositories
          config_timezone: Europe/Moscow
          config_output: svg
          config_display: large
          config_order: base.header, base.repositories, languages, activity, achievements

          # üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–ø—ã
          plugin_repositories: yes
          plugin_repositories_pinned: yes
          plugin_repositories_starred: no
          plugin_repositories_order: featured, pinned, stars
          plugin_repositories_limit: 4

          # üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —è–∑—ã–∫–∞–º
          plugin_languages: yes
          plugin_languages_ignored: html, css
          plugin_languages_details: percentage
          plugin_languages_threshold: 1%
          plugin_languages_limit: 6

          # üî• –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –∫–æ–º–º–∏—Ç–∞–º / PR / issues
          plugin_activity: yes
          plugin_activity_limit: 5
          plugin_activity_days: 14
          plugin_activity_filter: all

          # üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
          plugin_achievements: yes
          plugin_achievements_display: compact
          plugin_achievements_threshold: C
          plugin_achievements_secrets: yes
          plugin_achievements_ignored: octonaut, stargazer-in-the-dark

          # üîß –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —á–µ—Ä–µ–∑ topics
          plugin_topics: yes
          plugin_topics_mode: icons
          plugin_topics_limit: 15

          # üë• –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ: pull requests, issues
          plugin_followup: yes
          plugin_contributors: yes

          # üì¶ –ü—Ä–æ–µ–∫—Ç—ã (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å –≤ –±—É–¥—É—â–µ–º –≤—Ä—É—á–Ω—É—é)
          plugin_projects: no

          # üïí Wakatime (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å)
          # plugin_wakatime: yes
          # plugin_wakatime_token: ${{ secrets.WAKATIME_TOKEN }}
          # plugin_wakatime_sections: time, languages, projects
